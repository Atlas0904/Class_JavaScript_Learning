<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>  JavaScript Class 8: Drag HW </title>
	
	<script type="text/javascript">

		var box;
		var box_left = 100;   // init value= box css left
		var box_top = 100; // init value= box css top
		
		var delta_x;
		var delta_y;
		
		function init(){  // body 前
			//var box = document.getElementById("box");
			box = document.getElementById("box");  // Global var 方便用
			//box.addEventListener("click", pickup);
			box.addEventListener("mousedown", mousedown);
			box.addEventListener("mouseup", mouseup);
		}

		function mousedown(e) {
			delta_x = e.clientX - box.offsetLeft;
			delta_y =  e.clientY - box.offsetTop;
			document.addEventListener("mousemove", move);
		}
		function mouseup() {
			document.removeEventListener("mousemove", move);
		}
		
		function move(e){
			//document.title = e.clientX + "," + e.clientY;
			//box.style.left=(e.clientX - 100/2) + "px";  // note 0px 不行
			//box.style.top= (e.clientY - 100/2) + "px";
			
			box.style.left=(e.clientX - delta_x)  + "px";  // note 0px 不行
			box.style.top= (e.clientY - delta_y) + "px";
		}

	</script>
	<style type="text/css">
	.box{
		width: 100px; height: 100px; background-color: green;
		position: absolute; left: 100px; top: 100px;
		border-radius: 10px;
	}
	</style>

</head>

<!-- 代表所有靜態內容 都被初始化 -->
<body onload="init();">
<div class= "box" id= "box"></div>

</body>
</html>