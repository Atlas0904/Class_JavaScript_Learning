<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> Mobile switch page </title>
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$(".page").hide();
			// hash => #id
			window.addEventListener("hashchange", function(){
				//alert(document.location.hash);
				changePage(document.location.hash);
			});
			//網頁一載入 切換到當前的頁面
			changePage(document.location.hash);
		});
		var $currentPage = null;  //追蹤當前顯示的頁面，預設為 null
		function changePage(hash) {
			//舊的頁面藏起來
			if ($currentPage != null) {
				$currentPage.hide();
			}
			//顯示目標頁面
			var pageId;
			if (hash=="") {  //沒有# 預設進入首頁
				pageId = "home";
			} else { // 進入對應頁面
				pageId = hash.substring(1);
			}
			$("#" + pageId).fadeIn();
			//更新紀錄
			$currentPage = $("#"+pageId);
		}
		
	</script>
	<style type="text/css">
	html,body{width: 100%;height: 100%;margin: 0px;} 
	.page{
		width: 100%;
		height: 100%;
		background-color: #dddddd;
		display: flex;
		flex-direction: column;
	}
	.page>.head{ flex:0 0 50px; background-color: red;}
	.page>.main{flex:1 1 auto;}
	.page>.footer{flex:0 0 50px; background-color: blue;}
	</style>
</head>
<body>
    <div class="page" id="home">
		<div class="head"> HomePage </div>
		<div class="main"> 
			Go to <a href="#page2">Page2</a> 
		</div>
		<div class="footer"> Footer </div>
	</div>

    <div class="page" id="page2">
		<div class="head"> Page2 </div>
	    <div class="main" id="page2">
	    	Page2, Go back <a href="#home">Home</a>
	    </div>
		<div class="footer"> Footer </div>
	</div>



</body>
</html>